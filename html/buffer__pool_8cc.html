<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hermes: /home/runner/work/hermes/hermes/src/buffer_pool.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hermes
   &#160;<span id="projectnumber">0.4.0-beta</span>
   </div>
   <div id="projectbrief">I/O Buffering System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('buffer__pool_8cc.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">buffer_pool.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="buffer__pool_8h_source.html">buffer_pool.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="buffer__pool__internal_8h_source.html">buffer_pool_internal.h</a>&quot;</code><br />
<code>#include &lt;sys/mman.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;dlfcn.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;sched.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;cmath&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;set&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;glog/logging.h&quot;</code><br />
<code>#include &quot;mpi.h&quot;</code><br />
<code>#include &quot;metadata_management.h&quot;</code><br />
<code>#include &quot;rpc.h&quot;</code><br />
<code>#include &quot;debug_state.cc&quot;</code><br />
<code>#include &quot;<a class="el" href="memory__management_8cc.html">memory_management.cc</a>&quot;</code><br />
<code>#include &quot;config_parser.cc&quot;</code><br />
<code>#include &quot;utils.cc&quot;</code><br />
<code>#include &quot;traits.cc&quot;</code><br />
<code>#include &quot;metadata_management.cc&quot;</code><br />
<code>#include &quot;buffer_organizer.cc&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for buffer_pool.cc:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc__incl.png" border="0" usemap="#_2home_2runner_2work_2hermes_2hermes_2src_2buffer__pool_8cc" alt=""/></div>
<map name="_2home_2runner_2work_2hermes_2hermes_2src_2buffer__pool_8cc" id="_2home_2runner_2work_2hermes_2hermes_2src_2buffer__pool_8cc">
<area shape="rect" title=" " alt="" coords="2201,5,2399,47"/>
<area shape="rect" href="buffer__pool_8h.html" title=" " alt="" coords="572,95,679,121"/>
<area shape="rect" title=" " alt="" coords="19,856,93,883"/>
<area shape="rect" href="stdio_8h_source.html" title=" " alt="" coords="1677,169,1744,196"/>
<area shape="rect" title=" " alt="" coords="2075,244,2138,271"/>
<area shape="rect" title=" " alt="" coords="2163,244,2237,271"/>
<area shape="rect" title=" " alt="" coords="2377,931,2492,957"/>
<area shape="rect" title=" " alt="" coords="2000,632,2043,659"/>
<area shape="rect" title=" " alt="" coords="1795,632,1875,659"/>
<area shape="rect" title=" " alt="" coords="1645,931,1707,957"/>
<area shape="rect" title=" " alt="" coords="2202,931,2262,957"/>
<area shape="rect" href="metadata__management_8h_source.html" title=" " alt="" coords="574,707,765,733"/>
<area shape="rect" title=" " alt="" coords="726,781,797,808"/>
<area shape="rect" href="rpc_8h_source.html" title=" " alt="" coords="1094,632,1149,659"/>
<area shape="rect" title=" " alt="" coords="1957,408,2024,435"/>
<area shape="rect" title=" " alt="" coords="2118,408,2189,435"/>
<area shape="rect" href="buffer__pool__internal_8h.html" title=" " alt="" coords="246,408,410,435"/>
<area shape="rect" title=" " alt="" coords="2060,326,2119,353"/>
<area shape="rect" title=" " alt="" coords="2667,95,2770,121"/>
<area shape="rect" title=" " alt="" coords="2795,95,2880,121"/>
<area shape="rect" title=" " alt="" coords="2904,95,3000,121"/>
<area shape="rect" title=" " alt="" coords="3024,95,3096,121"/>
<area shape="rect" title=" " alt="" coords="3121,95,3189,121"/>
<area shape="rect" title=" " alt="" coords="2073,169,2135,196"/>
<area shape="rect" href="memory__management_8cc.html" title=" " alt="" coords="941,95,1131,121"/>
<area shape="rect" title=" " alt="" coords="387,169,461,196"/>
<area shape="rect" title=" " alt="" coords="925,931,984,957"/>
<area shape="rect" href="hermes__types_8h_source.html" title=" " alt="" coords="1094,856,1221,883"/>
<area shape="rect" title=" " alt="" coords="344,856,411,883"/>
<area shape="rect" href="memory__management_8h.html" title=" " alt="" coords="286,781,469,808"/>
<area shape="rect" href="hermes__status_8h_source.html" title=" " alt="" coords="1608,557,1739,584"/>
<area shape="rect" href="communication_8h.html" title=" " alt="" coords="415,707,550,733"/>
<area shape="rect" title=" " alt="" coords="1824,244,1899,271"/>
<area shape="rect" title=" " alt="" coords="1195,244,1376,271"/>
<area shape="rect" href="hermes_8h_source.html" title=" " alt="" coords="1472,557,1579,584"/>
<area shape="rect" href="bucket_8h_source.html" title=" " alt="" coords="1243,408,1344,435"/>
<area shape="rect" href="vbucket_8h_source.html" title=" " alt="" coords="2016,483,2125,509"/>
<area shape="rect" href="stdio_2constants_8h_source.html" title=" " alt="" coords="1365,326,1462,353"/>
<area shape="rect" href="interceptor_8h_source.html" title=" " alt="" coords="1775,326,1879,353"/>
<area shape="rect" href="singleton_8h_source.html" title=" " alt="" coords="1779,408,1874,435"/>
<area shape="rect" href="stdio_2datastructures_8h_source.html" title=" " alt="" coords="942,326,1106,353"/>
<area shape="rect" href="stdio_2mapper_2mapper__factory_8h_source.html" title=" " alt="" coords="1537,319,1700,360"/>
<area shape="rect" href="stdio_2metadata__manager_8h_source.html" title=" " alt="" coords="1451,244,1648,271"/>
<area shape="rect" title=" " alt="" coords="1528,632,1595,659"/>
<area shape="rect" href="id_8h_source.html" title=" " alt="" coords="1619,632,1666,659"/>
<area shape="rect" title=" " alt="" coords="1174,931,1245,957"/>
<area shape="rect" title=" " alt="" coords="1063,931,1150,957"/>
<area shape="rect" title=" " alt="" coords="1813,557,1891,584"/>
<area shape="rect" title=" " alt="" coords="1614,483,1738,509"/>
<area shape="rect" href="data__placement__engine_8h_source.html" title=" " alt="" coords="1246,483,1437,509"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5b285bc4a6d19044b6eead181c18b4df"><td class="memItemLeft" align="right" valign="top"><a id="a5b285bc4a6d19044b6eead181c18b4df"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::operator==</b> (const BufferID &amp;lhs, const BufferID &amp;rhs)</td></tr>
<tr class="separator:a5b285bc4a6d19044b6eead181c18b4df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba276e3158ce278c8b895b936678b255"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#aba276e3158ce278c8b895b936678b255">hermes::Finalize</a> (SharedMemoryContext *context, CommunicationContext *comm, RpcContext *rpc, const char *shmem_name, Arena *trans_arena, bool is_application_core, bool force_rpc_shutdown)</td></tr>
<tr class="separator:aba276e3158ce278c8b895b936678b255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fd4559bbacc9db9278bc00378f3c48b"><td class="memItemLeft" align="right" valign="top"><a id="a7fd4559bbacc9db9278bc00378f3c48b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::LockBuffer</b> (BufferHeader *header)</td></tr>
<tr class="separator:a7fd4559bbacc9db9278bc00378f3c48b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac603747db7e14260874ae27119384326"><td class="memItemLeft" align="right" valign="top"><a id="ac603747db7e14260874ae27119384326"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::UnlockBuffer</b> (BufferHeader *header)</td></tr>
<tr class="separator:ac603747db7e14260874ae27119384326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a16d19dbc6aa057e14961538cd3d933"><td class="memItemLeft" align="right" valign="top">BufferPool *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a3a16d19dbc6aa057e14961538cd3d933">hermes::GetBufferPoolFromContext</a> (SharedMemoryContext *context)</td></tr>
<tr class="separator:a3a16d19dbc6aa057e14961538cd3d933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b3735eb879e8536abfe576c3750f4aa"><td class="memItemLeft" align="right" valign="top"><a id="a3b3735eb879e8536abfe576c3750f4aa"></a>
Device *&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetDeviceFromHeader</b> (SharedMemoryContext *context, BufferHeader *header)</td></tr>
<tr class="separator:a3b3735eb879e8536abfe576c3750f4aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bf530515bc3cd2828d28b763a701c8c"><td class="memItemLeft" align="right" valign="top"><a id="a4bf530515bc3cd2828d28b763a701c8c"></a>
Target *&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetTarget</b> (SharedMemoryContext *context, int index)</td></tr>
<tr class="separator:a4bf530515bc3cd2828d28b763a701c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cc729a7f44a6c52a38a2ab81ca2f13a"><td class="memItemLeft" align="right" valign="top"><a id="a1cc729a7f44a6c52a38a2ab81ca2f13a"></a>
Target *&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetTargetFromId</b> (SharedMemoryContext *context, TargetID id)</td></tr>
<tr class="separator:a1cc729a7f44a6c52a38a2ab81ca2f13a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a03c2aa41e4113f2ef9e0d877c15b2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; f32 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a02a03c2aa41e4113f2ef9e0d877c15b2">hermes::GetBandwidths</a> (SharedMemoryContext *context, const std::vector&lt; TargetID &gt; &amp;targets)</td></tr>
<tr class="separator:a02a03c2aa41e4113f2ef9e0d877c15b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e0bec74072dacfc57b528846445e446"><td class="memItemLeft" align="right" valign="top">Device *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a8e0bec74072dacfc57b528846445e446">hermes::GetDeviceById</a> (SharedMemoryContext *context, DeviceID device_id)</td></tr>
<tr class="separator:a8e0bec74072dacfc57b528846445e446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c911d8cda3c9bfd0b60c2e7a85971e1"><td class="memItemLeft" align="right" valign="top"><a id="a2c911d8cda3c9bfd0b60c2e7a85971e1"></a>
DeviceID&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetDeviceIdFromTargetId</b> (TargetID target_id)</td></tr>
<tr class="separator:a2c911d8cda3c9bfd0b60c2e7a85971e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18efa1b5dc4adcceb04cda71e1e9294d"><td class="memItemLeft" align="right" valign="top">BufferHeader *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a18efa1b5dc4adcceb04cda71e1e9294d">hermes::GetHeadersBase</a> (SharedMemoryContext *context)</td></tr>
<tr class="separator:a18efa1b5dc4adcceb04cda71e1e9294d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ff5f6dfed34b232a2d035677f09b78b"><td class="memItemLeft" align="right" valign="top"><a id="a7ff5f6dfed34b232a2d035677f09b78b"></a>
BufferHeader *&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetHeaderByIndex</b> (SharedMemoryContext *context, u32 index)</td></tr>
<tr class="separator:a7ff5f6dfed34b232a2d035677f09b78b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42d7d04421227f822bdaa0344654409f"><td class="memItemLeft" align="right" valign="top">BufferHeader *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a42d7d04421227f822bdaa0344654409f">hermes::GetHeaderByBufferId</a> (SharedMemoryContext *context, BufferID id)</td></tr>
<tr class="separator:a42d7d04421227f822bdaa0344654409f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df1793172b041f18a9a52a27e752eaa"><td class="memItemLeft" align="right" valign="top"><a id="a5df1793172b041f18a9a52a27e752eaa"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::ResetHeader</b> (BufferHeader *header)</td></tr>
<tr class="separator:a5df1793172b041f18a9a52a27e752eaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae42113ecfdcc26b8b14bf5a575e04ea2"><td class="memItemLeft" align="right" valign="top"><a id="ae42113ecfdcc26b8b14bf5a575e04ea2"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::MakeHeaderDormant</b> (BufferHeader *header)</td></tr>
<tr class="separator:ae42113ecfdcc26b8b14bf5a575e04ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53535e85665e48b4cf17e78a790537da"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a53535e85665e48b4cf17e78a790537da">hermes::HeaderIsDormant</a> (BufferHeader *header)</td></tr>
<tr class="separator:a53535e85665e48b4cf17e78a790537da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dcc99fcd618239cda581675a529849b"><td class="memItemLeft" align="right" valign="top"><a id="a6dcc99fcd618239cda581675a529849b"></a>
i32&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetSlabUnitSize</b> (SharedMemoryContext *context, DeviceID device_id, int slab_index)</td></tr>
<tr class="separator:a6dcc99fcd618239cda581675a529849b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e0a2a64ef4975e84ff6b4a5d486c7c0"><td class="memItemLeft" align="right" valign="top"><a id="a3e0a2a64ef4975e84ff6b4a5d486c7c0"></a>
i32&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetSlabBufferSize</b> (SharedMemoryContext *context, DeviceID device_id, int slab_index)</td></tr>
<tr class="separator:a3e0a2a64ef4975e84ff6b4a5d486c7c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a476926e48a3e4052af840d7959dd008e"><td class="memItemLeft" align="right" valign="top"><a id="a476926e48a3e4052af840d7959dd008e"></a>
BufferID *&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetFreeListPtr</b> (SharedMemoryContext *context, DeviceID device_id)</td></tr>
<tr class="separator:a476926e48a3e4052af840d7959dd008e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab87630cde9eaafcd5a0196d006d13f9a"><td class="memItemLeft" align="right" valign="top"><a id="ab87630cde9eaafcd5a0196d006d13f9a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetSlabIndexFromHeader</b> (SharedMemoryContext *context, BufferHeader *header)</td></tr>
<tr class="separator:ab87630cde9eaafcd5a0196d006d13f9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e9009c690da7b3e2fbcf90636e5922"><td class="memItemLeft" align="right" valign="top"><a id="a32e9009c690da7b3e2fbcf90636e5922"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::BufferIsRemote</b> (CommunicationContext *comm, BufferID buffer_id)</td></tr>
<tr class="separator:a32e9009c690da7b3e2fbcf90636e5922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0590d8c81c30d8f23dc5e055edb5cbe9"><td class="memItemLeft" align="right" valign="top"><a id="a0590d8c81c30d8f23dc5e055edb5cbe9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::BufferIsRemote</b> (RpcContext *rpc, BufferID buffer_id)</td></tr>
<tr class="separator:a0590d8c81c30d8f23dc5e055edb5cbe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83dbab7423f951b8a1c39bead7471b50"><td class="memItemLeft" align="right" valign="top"><a id="a83dbab7423f951b8a1c39bead7471b50"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::IsNullBufferId</b> (BufferID id)</td></tr>
<tr class="separator:a83dbab7423f951b8a1c39bead7471b50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a119acdbc67271182db4d36ebe76c07bc"><td class="memItemLeft" align="right" valign="top"><a id="a119acdbc67271182db4d36ebe76c07bc"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::BufferIsByteAddressable</b> (SharedMemoryContext *context, BufferID id)</td></tr>
<tr class="separator:a119acdbc67271182db4d36ebe76c07bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e863f2d0dd987260101f7608395f743"><td class="memItemLeft" align="right" valign="top"><a id="a8e863f2d0dd987260101f7608395f743"></a>
BufferID&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::PeekFirstFreeBufferId</b> (SharedMemoryContext *context, DeviceID device_id, int slab_index)</td></tr>
<tr class="separator:a8e863f2d0dd987260101f7608395f743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05af43edefcdee378fc2784c2d80f9f4"><td class="memItemLeft" align="right" valign="top"><a id="a05af43edefcdee378fc2784c2d80f9f4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::SetFirstFreeBufferId</b> (SharedMemoryContext *context, DeviceID device_id, int slab_index, BufferID new_id)</td></tr>
<tr class="separator:a05af43edefcdee378fc2784c2d80f9f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af129df5dabe8a9df00ea78d0e47fa35c"><td class="memItemLeft" align="right" valign="top"><a id="af129df5dabe8a9df00ea78d0e47fa35c"></a>
std::atomic&lt; u32 &gt; *&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetAvailableBuffersArray</b> (SharedMemoryContext *context, DeviceID device_id)</td></tr>
<tr class="separator:af129df5dabe8a9df00ea78d0e47fa35c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa701a166aa8362a5ee8de43e5211eedc"><td class="memItemLeft" align="right" valign="top"><a id="aa701a166aa8362a5ee8de43e5211eedc"></a>
static u32&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetNumBuffersAvailable</b> (SharedMemoryContext *context, DeviceID device_id, int slab_index)</td></tr>
<tr class="separator:aa701a166aa8362a5ee8de43e5211eedc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ccce9fc36a8bca80e5146c5c86a6ea9"><td class="memItemLeft" align="right" valign="top"><a id="a2ccce9fc36a8bca80e5146c5c86a6ea9"></a>
u32&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetNumBuffersAvailable</b> (SharedMemoryContext *context, DeviceID device_id)</td></tr>
<tr class="separator:a2ccce9fc36a8bca80e5146c5c86a6ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6320246747f14a27ad34c281ed8cc5bf"><td class="memItemLeft" align="right" valign="top"><a id="a6320246747f14a27ad34c281ed8cc5bf"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::DecrementAvailableBuffers</b> (SharedMemoryContext *context, DeviceID device_id, int slab_index)</td></tr>
<tr class="separator:a6320246747f14a27ad34c281ed8cc5bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2220f177dd47c3070c13024161d26390"><td class="memItemLeft" align="right" valign="top"><a id="a2220f177dd47c3070c13024161d26390"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::IncrementAvailableBuffers</b> (SharedMemoryContext *context, DeviceID device_id, int slab_index)</td></tr>
<tr class="separator:a2220f177dd47c3070c13024161d26390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29191e66c91e71f9084c4c128963568b"><td class="memItemLeft" align="right" valign="top"><a id="a29191e66c91e71f9084c4c128963568b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::UpdateBufferingCapacities</b> (SharedMemoryContext *context, i64 adjustment, DeviceID device_id)</td></tr>
<tr class="separator:a29191e66c91e71f9084c4c128963568b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2379ef671e0ec1732b5deb50c412e8e"><td class="memItemLeft" align="right" valign="top"><a id="ae2379ef671e0ec1732b5deb50c412e8e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::LocalReleaseBuffer</b> (SharedMemoryContext *context, BufferID buffer_id)</td></tr>
<tr class="separator:ae2379ef671e0ec1732b5deb50c412e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ba2936e794898d2dba39d531e677d43"><td class="memItemLeft" align="right" valign="top"><a id="a5ba2936e794898d2dba39d531e677d43"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::ReleaseBuffer</b> (SharedMemoryContext *context, RpcContext *rpc, BufferID buffer_id)</td></tr>
<tr class="separator:a5ba2936e794898d2dba39d531e677d43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fdaa605948d7982a2b0e046c452f84f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a4fdaa605948d7982a2b0e046c452f84f">hermes::ReleaseBuffers</a> (SharedMemoryContext *context, RpcContext *rpc, const std::vector&lt; BufferID &gt; &amp;buffer_ids)</td></tr>
<tr class="separator:a4fdaa605948d7982a2b0e046c452f84f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d9f005212f0ee04c52edbca60eca248"><td class="memItemLeft" align="right" valign="top"><a id="a9d9f005212f0ee04c52edbca60eca248"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::LocalReleaseBuffers</b> (SharedMemoryContext *context, const std::vector&lt; BufferID &gt; &amp;buffer_ids)</td></tr>
<tr class="separator:a9d9f005212f0ee04c52edbca60eca248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa03a43dde9b04efe3a38d1e91d5b046c"><td class="memItemLeft" align="right" valign="top"><a id="aa03a43dde9b04efe3a38d1e91d5b046c"></a>
BufferID&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetFreeBuffer</b> (SharedMemoryContext *context, DeviceID device_id, int slab_index)</td></tr>
<tr class="separator:aa03a43dde9b04efe3a38d1e91d5b046c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3789d75221354e09f43fe8d1520b988"><td class="memItemLeft" align="right" valign="top">std::vector&lt; BufferID &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#ae3789d75221354e09f43fe8d1520b988">hermes::GetBuffers</a> (SharedMemoryContext *context, const PlacementSchema &amp;schema)</td></tr>
<tr class="separator:ae3789d75221354e09f43fe8d1520b988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af280c93959e8da60259bc08f4688093b"><td class="memItemLeft" align="right" valign="top"><a id="af280c93959e8da60259bc08f4688093b"></a>
u32&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::LocalGetBufferSize</b> (SharedMemoryContext *context, BufferID id)</td></tr>
<tr class="separator:af280c93959e8da60259bc08f4688093b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3043cc2a65467f9910d9a3e7e740b96"><td class="memItemLeft" align="right" valign="top"><a id="af3043cc2a65467f9910d9a3e7e740b96"></a>
u32&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetBufferSize</b> (SharedMemoryContext *context, RpcContext *rpc, BufferID id)</td></tr>
<tr class="separator:af3043cc2a65467f9910d9a3e7e740b96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab48b9ac0695e2cdf1ae998d40e64d86f"><td class="memItemLeft" align="right" valign="top"><a id="ab48b9ac0695e2cdf1ae998d40e64d86f"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetBlobSize</b> (SharedMemoryContext *context, RpcContext *rpc, BufferIdArray *buffer_ids)</td></tr>
<tr class="separator:ab48b9ac0695e2cdf1ae998d40e64d86f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1bf3c14edcfd90fa50cbe61cd50b07a"><td class="memItemLeft" align="right" valign="top"><a id="af1bf3c14edcfd90fa50cbe61cd50b07a"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetBlobSizeById</b> (SharedMemoryContext *context, RpcContext *rpc, Arena *arena, BlobID blob_id)</td></tr>
<tr class="separator:af1bf3c14edcfd90fa50cbe61cd50b07a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a651dbd33efbf41a4ebf9441430c8e5b8"><td class="memItemLeft" align="right" valign="top"><a id="a651dbd33efbf41a4ebf9441430c8e5b8"></a>
ptrdiff_t&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetBufferOffset</b> (SharedMemoryContext *context, BufferID id)</td></tr>
<tr class="separator:a651dbd33efbf41a4ebf9441430c8e5b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba1cf80bc2aeb351995712d75a9c991"><td class="memItemLeft" align="right" valign="top"><a id="a3ba1cf80bc2aeb351995712d75a9c991"></a>
u8 *&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::GetRamBufferPtr</b> (SharedMemoryContext *context, BufferID buffer_id)</td></tr>
<tr class="separator:a3ba1cf80bc2aeb351995712d75a9c991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c57c10e839403e04c94a427c8d04193"><td class="memItemLeft" align="right" valign="top"><a id="a9c57c10e839403e04c94a427c8d04193"></a>
BufferID&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::MakeBufferId</b> (u32 node_id, u32 header_index)</td></tr>
<tr class="separator:a9c57c10e839403e04c94a427c8d04193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a527b755ac20194a2e95fd889d73f33fc"><td class="memItemLeft" align="right" valign="top"><a id="a527b755ac20194a2e95fd889d73f33fc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::PartitionRamBuffers</b> (Arena *arena, i32 buffer_size, i32 buffer_count, int block_size)</td></tr>
<tr class="separator:a527b755ac20194a2e95fd889d73f33fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14146cb1dac9dc2bb103c2489ef19f43"><td class="memItemLeft" align="right" valign="top"><a id="a14146cb1dac9dc2bb103c2489ef19f43"></a>
BufferID&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::MakeBufferHeaders</b> (Arena *arena, int buffer_size, u32 start_index, u32 end_index, int node_id, DeviceID device_id, ptrdiff_t initial_offset, u8 **header_begin)</td></tr>
<tr class="separator:a14146cb1dac9dc2bb103c2489ef19f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab4f01e3e98d2cef26b5e90b566c7542"><td class="memItemLeft" align="right" valign="top"><a id="aab4f01e3e98d2cef26b5e90b566c7542"></a>
Device *&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::InitDevices</b> (Arena *arena, Config *config, f32 &amp;min_bw, f32 &amp;max_bw)</td></tr>
<tr class="separator:aab4f01e3e98d2cef26b5e90b566c7542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7df99a7bdaddb535dc3817cee314b9e"><td class="memItemLeft" align="right" valign="top"><a id="ab7df99a7bdaddb535dc3817cee314b9e"></a>
Target *&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::InitTargets</b> (Arena *arena, Config *config, Device *devices, int node_id)</td></tr>
<tr class="separator:ab7df99a7bdaddb535dc3817cee314b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0594eaad6f55d0838ac754ce0aa8e53c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a0594eaad6f55d0838ac754ce0aa8e53c">hermes::MergeRamBufferFreeList</a> (SharedMemoryContext *context, int slab_index)</td></tr>
<tr class="separator:a0594eaad6f55d0838ac754ce0aa8e53c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4aa1c5e87928e65cc3e16c8a2c1aa6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#aa4aa1c5e87928e65cc3e16c8a2c1aa6e">hermes::SplitRamBufferFreeList</a> (SharedMemoryContext *context, int slab_index)</td></tr>
<tr class="separator:aa4aa1c5e87928e65cc3e16c8a2c1aa6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef32dcdc8a11c0cd0a2bed9b39e831e0"><td class="memItemLeft" align="right" valign="top">ptrdiff_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#aef32dcdc8a11c0cd0a2bed9b39e831e0">hermes::InitBufferPool</a> (u8 *shmem_base, Arena *buffer_pool_arena, Arena *scratch_arena, i32 node_id, Config *config)</td></tr>
<tr class="separator:aef32dcdc8a11c0cd0a2bed9b39e831e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a593a42c0609d3e03c087939a343de862"><td class="memItemLeft" align="right" valign="top"><a id="a593a42c0609d3e03c087939a343de862"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::SerializeBufferPoolToFile</b> (SharedMemoryContext *context, FILE *file)</td></tr>
<tr class="separator:a593a42c0609d3e03c087939a343de862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93572ab14ec8c48e304fbdfc25cab81d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a93572ab14ec8c48e304fbdfc25cab81d">hermes::MakeFullShmemName</a> (char *dest, const char *base)</td></tr>
<tr class="separator:a93572ab14ec8c48e304fbdfc25cab81d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a587a1469b6d0cdcaef52539f1f44afff"><td class="memItemLeft" align="right" valign="top"><a id="a587a1469b6d0cdcaef52539f1f44afff"></a>
FILE *&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::FopenOrTerminate</b> (const char *fname, const char *mode)</td></tr>
<tr class="separator:a587a1469b6d0cdcaef52539f1f44afff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c1f7ccb8f81f362f21c77bd7a2061c8"><td class="memItemLeft" align="right" valign="top"><a id="a0c1f7ccb8f81f362f21c77bd7a2061c8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::OpenOrTerminate</b> (const std::string &amp;fname, int flags, mode_t mode=0)</td></tr>
<tr class="separator:a0c1f7ccb8f81f362f21c77bd7a2061c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac40167a06e73b893a492c3708bc94556"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#ac40167a06e73b893a492c3708bc94556">hermes::InitFilesForBuffering</a> (SharedMemoryContext *context, CommunicationContext &amp;comm)</td></tr>
<tr class="separator:ac40167a06e73b893a492c3708bc94556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabdc35244dad082f8db85b19fd30844d"><td class="memItemLeft" align="right" valign="top"><a id="aabdc35244dad082f8db85b19fd30844d"></a>
u8 *&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::InitSharedMemory</b> (const char *shmem_name, size_t total_size)</td></tr>
<tr class="separator:aabdc35244dad082f8db85b19fd30844d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f1ab38db8aaf13dfe38fa1e77e9a4ac"><td class="memItemLeft" align="right" valign="top">SharedMemoryContext&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a5f1ab38db8aaf13dfe38fa1e77e9a4ac">hermes::GetSharedMemoryContext</a> (char *shmem_name)</td></tr>
<tr class="separator:a5f1ab38db8aaf13dfe38fa1e77e9a4ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8330d4c1cab36eddd4085af9cdfb4e58"><td class="memItemLeft" align="right" valign="top"><a id="a8330d4c1cab36eddd4085af9cdfb4e58"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::UnmapSharedMemory</b> (SharedMemoryContext *context)</td></tr>
<tr class="separator:a8330d4c1cab36eddd4085af9cdfb4e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8bfcb2d66a8c335c6d62b452c549f9f"><td class="memItemLeft" align="right" valign="top"><a id="af8bfcb2d66a8c335c6d62b452c549f9f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::CloseBufferingFiles</b> (SharedMemoryContext *context)</td></tr>
<tr class="separator:af8bfcb2d66a8c335c6d62b452c549f9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f5a7088d0c67afec779b03060291180"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#a7f5a7088d0c67afec779b03060291180">hermes::ReleaseSharedMemoryContext</a> (SharedMemoryContext *context)</td></tr>
<tr class="separator:a7f5a7088d0c67afec779b03060291180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37e9aec4559db6260d63837f57224415"><td class="memItemLeft" align="right" valign="top"><a id="a37e9aec4559db6260d63837f57224415"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::LocalWriteBufferById</b> (SharedMemoryContext *context, BufferID id, const Blob &amp;blob, size_t offset)</td></tr>
<tr class="separator:a37e9aec4559db6260d63837f57224415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9163d10dd9f730c3bb00fb480138c6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#ad9163d10dd9f730c3bb00fb480138c6c">hermes::WriteBlobToBuffers</a> (SharedMemoryContext *context, RpcContext *rpc, const Blob &amp;blob, const std::vector&lt; BufferID &gt; &amp;buffer_ids)</td></tr>
<tr class="separator:ad9163d10dd9f730c3bb00fb480138c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a043c08df39923cd850f99085720549f3"><td class="memItemLeft" align="right" valign="top"><a id="a043c08df39923cd850f99085720549f3"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::LocalReadBufferById</b> (SharedMemoryContext *context, BufferID id, Blob *blob, size_t read_offset)</td></tr>
<tr class="separator:a043c08df39923cd850f99085720549f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4f47163aad622261948bedd86b7affc"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer__pool_8cc.html#ad4f47163aad622261948bedd86b7affc">hermes::ReadBlobFromBuffers</a> (SharedMemoryContext *context, RpcContext *rpc, Blob *blob, BufferIdArray *buffer_ids, u32 *buffer_sizes)</td></tr>
<tr class="separator:ad4f47163aad622261948bedd86b7affc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383e20804170247bef4fc7e45a601bd2"><td class="memItemLeft" align="right" valign="top"><a id="a383e20804170247bef4fc7e45a601bd2"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::ReadBlobById</b> (SharedMemoryContext *context, RpcContext *rpc, Arena *arena, Blob blob, BlobID blob_id)</td></tr>
<tr class="separator:a383e20804170247bef4fc7e45a601bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23bc1660b2c36fc0816cfa9629eb9d02"><td class="memItemLeft" align="right" valign="top"><a id="a23bc1660b2c36fc0816cfa9629eb9d02"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::ReadBlobById</b> (SharedMemoryContext *context, RpcContext *rpc, Arena *arena, api::Blob &amp;dest, BlobID blob_id)</td></tr>
<tr class="separator:a23bc1660b2c36fc0816cfa9629eb9d02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe4bc95a8b323928631e2d41866ac78d"><td class="memItemLeft" align="right" valign="top"><a id="afe4bc95a8b323928631e2d41866ac78d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::OpenSwapFile</b> (SharedMemoryContext *context, u32 node_id)</td></tr>
<tr class="separator:afe4bc95a8b323928631e2d41866ac78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af16af4751c0c64f8952b512d8fad0ed4"><td class="memItemLeft" align="right" valign="top"><a id="af16af4751c0c64f8952b512d8fad0ed4"></a>
SwapBlob&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::WriteToSwap</b> (SharedMemoryContext *context, Blob blob, u32 node_id, BucketID bucket_id)</td></tr>
<tr class="separator:af16af4751c0c64f8952b512d8fad0ed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54ca273e5e4837d879b749645ba6d83f"><td class="memItemLeft" align="right" valign="top"><a id="a54ca273e5e4837d879b749645ba6d83f"></a>
SwapBlob&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::PutToSwap</b> (SharedMemoryContext *context, RpcContext *rpc, const std::string &amp;name, BucketID bucket_id, const u8 *data, size_t size)</td></tr>
<tr class="separator:a54ca273e5e4837d879b749645ba6d83f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90b2ac6f6b32dab62d7ad2d4dfc93bc6"><td class="memItemLeft" align="right" valign="top"><a id="a90b2ac6f6b32dab62d7ad2d4dfc93bc6"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::ReadFromSwap</b> (SharedMemoryContext *context, Blob blob, SwapBlob swap_blob)</td></tr>
<tr class="separator:a90b2ac6f6b32dab62d7ad2d4dfc93bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a162e1bfac8a276d2b948f2b4b1d61602"><td class="memItemLeft" align="right" valign="top"><a id="a162e1bfac8a276d2b948f2b4b1d61602"></a>
<a class="el" href="classapi_1_1_status.html">api::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::PlaceBlob</b> (SharedMemoryContext *context, RpcContext *rpc, PlacementSchema &amp;schema, Blob blob, const std::string &amp;name, BucketID bucket_id, const api::Context &amp;ctx, bool called_from_buffer_organizer)</td></tr>
<tr class="separator:a162e1bfac8a276d2b948f2b4b1d61602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b6483960796606246f5fec88bf31bd3"><td class="memItemLeft" align="right" valign="top"><a id="a7b6483960796606246f5fec88bf31bd3"></a>
<a class="el" href="classapi_1_1_status.html">api::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::StdIoPersistBucket</b> (SharedMemoryContext *context, RpcContext *rpc, Arena *arena, BucketID bucket_id, const std::string &amp;file_name, const std::string &amp;open_mode)</td></tr>
<tr class="separator:a7b6483960796606246f5fec88bf31bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96f06dbb6de74a3a1488bd1dc9279629"><td class="memItemLeft" align="right" valign="top"><a id="a96f06dbb6de74a3a1488bd1dc9279629"></a>
<a class="el" href="classapi_1_1_status.html">api::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><b>hermes::StdIoPersistBlob</b> (SharedMemoryContext *context, RpcContext *rpc, Arena *arena, BlobID blob_id, int fd, const i32 &amp;offset)</td></tr>
<tr class="separator:a96f06dbb6de74a3a1488bd1dc9279629"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of a BufferPool that lives in shared memory. Other processes interact with the BufferPool by requesting buffers through the <code>GetBuffers</code> call to reserve a set of <code>BufferID</code>s and then using those IDs for I/O. Remote processes can request remote buffers via the <code>GetBuffers</code> RPC call. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aba276e3158ce278c8b895b936678b255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba276e3158ce278c8b895b936678b255">&#9670;&nbsp;</a></span>Finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hermes::Finalize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_communication_context.html">CommunicationContext</a> *&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_rpc_context.html">RpcContext</a> *&#160;</td>
          <td class="paramname"><em>rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>shmem_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_arena.html">Arena</a> *&#160;</td>
          <td class="paramname"><em>trans_arena</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_application_core</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force_rpc_shutdown</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free all resources held by Hermes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The Hermes instance's shared memory context. </td></tr>
    <tr><td class="paramname">comm</td><td>The Hermes instance's communication context. </td></tr>
    <tr><td class="paramname">rpc</td><td>The Hermes instance's RPC context. </td></tr>
    <tr><td class="paramname">shmem_name</td><td>The name of the shared memory. </td></tr>
    <tr><td class="paramname">trans_arena</td><td>The instance's transient arena. </td></tr>
    <tr><td class="paramname">is_application_core</td><td>Whether or not this rank is an app rank. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_cgraph.png" border="0" usemap="#buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_cgraph" id="buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,135,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_icgraph.png" border="0" usemap="#buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_icgraph" id="buffer__pool_8cc_aba276e3158ce278c8b895b936678b255_icgraph">
<area shape="rect" title=" " alt="" coords="212,29,341,56"/>
<area shape="rect" href="classhermes_1_1api_1_1_hermes.html#a37a6512a0d20bf8ed0e5c2ef4238d807" title=" " alt="" coords="5,22,164,63"/>
</map>
</div>

</div>
</div>
<a id="a02a03c2aa41e4113f2ef9e0d877c15b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02a03c2aa41e4113f2ef9e0d877c15b2">&#9670;&nbsp;</a></span>GetBandwidths()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; f32 &gt; hermes::GetBandwidths </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="unionhermes_1_1_target_i_d.html">TargetID</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>targets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a vector of bandwidths in MiB per second for a given Target list.</p>
<p>Element <code>n</code> of the result is the bandwidth of the Device that backs the <code>nth</code> element of <code>targets</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context needed to access BufferPool info. </td></tr>
    <tr><td class="paramname">targets</td><td>The list of targets for which to retrieve bandwidth info.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The list of bandwidths, one for each target in <code>targets</code>, in MiB/sec. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_cgraph.png" border="0" usemap="#buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_cgraph" id="buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,184,63"/>
<area shape="rect" href="buffer__pool_8cc.html#a8e0bec74072dacfc57b528846445e446" title=" " alt="" coords="232,37,408,63"/>
<area shape="rect" href="buffer__pool_8cc.html#a3a16d19dbc6aa057e14961538cd3d933" title=" " alt="" coords="456,29,659,71"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_icgraph.png" border="0" usemap="#buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_icgraph" id="buffer__pool_8cc_a02a03c2aa41e4113f2ef9e0d877c15b2_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,184,56"/>
</map>
</div>

</div>
</div>
<a id="a3a16d19dbc6aa057e14961538cd3d933"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a16d19dbc6aa057e14961538cd3d933">&#9670;&nbsp;</a></span>GetBufferPoolFromContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BufferPool * hermes::GetBufferPoolFromContext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Obtains a pointer to the BufferPool constructed in shared memory.</p>
<p>Since the BufferPool lives in shared memory, this pointer should never be freed. It is only destroyed when the Hermes core closes the shared memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context for accessing the BufferPool.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the BufferPool constructed in the shared memory represented by <code>context</code>. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a3a16d19dbc6aa057e14961538cd3d933_cgraph.png" border="0" usemap="#buffer__pool_8cc_a3a16d19dbc6aa057e14961538cd3d933_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a3a16d19dbc6aa057e14961538cd3d933_cgraph" id="buffer__pool_8cc_a3a16d19dbc6aa057e14961538cd3d933_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,208,71"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a3a16d19dbc6aa057e14961538cd3d933_icgraph.png" border="0" usemap="#buffer__pool_8cc_a3a16d19dbc6aa057e14961538cd3d933_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a3a16d19dbc6aa057e14961538cd3d933_icgraph" id="buffer__pool_8cc_a3a16d19dbc6aa057e14961538cd3d933_icgraph">
<area shape="rect" title=" " alt="" coords="551,185,753,226"/>
<area shape="rect" href="buffer__pool_8cc.html#ae3789d75221354e09f43fe8d1520b988" title=" " alt="" coords="309,29,457,56"/>
<area shape="rect" href="buffer__pool_8cc.html#a8e0bec74072dacfc57b528846445e446" title=" " alt="" coords="295,104,471,131"/>
<area shape="rect" href="buffer__pool_8cc.html#ac40167a06e73b893a492c3708bc94556" title=" " alt="" coords="5,155,215,181"/>
<area shape="rect" href="buffer__pool_8cc.html#a18efa1b5dc4adcceb04cda71e1e9294d" title=" " alt="" coords="289,229,477,256"/>
<area shape="rect" href="buffer__pool_8cc.html#a0594eaad6f55d0838ac754ce0aa8e53c" title=" " alt="" coords="263,304,503,331"/>
<area shape="rect" href="buffer__pool_8cc.html#aa4aa1c5e87928e65cc3e16c8a2c1aa6e" title=" " alt="" coords="269,379,497,405"/>
<area shape="rect" href="buffer__pool_8cc.html#a02a03c2aa41e4113f2ef9e0d877c15b2" title=" " alt="" coords="21,80,199,107"/>
</map>
</div>

</div>
</div>
<a id="ae3789d75221354e09f43fe8d1520b988"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3789d75221354e09f43fe8d1520b988">&#9670;&nbsp;</a></span>GetBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; BufferID &gt; hermes::GetBuffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const PlacementSchema &amp;&#160;</td>
          <td class="paramname"><em>schema</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a vector of BufferIDs that satisfy the constrains of <code>schema</code>.</p>
<p>If a request cannot be fulfilled, an empty list is returned. GetBuffers will never partially satisfy a request. It is all or nothing. If <code>schema</code> includes a remote Device, this function will make an RPC call to get BufferIDs from a remote node.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context for the BufferPool. </td></tr>
    <tr><td class="paramname">schema</td><td>A description of the amount and Device of storage requested.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of BufferIDs that can be used for storage, and that satisfy <code>schema</code>, or an empty vector if the request could not be fulfilled. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_cgraph.png" border="0" usemap="#buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_cgraph" id="buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,153,63"/>
<area shape="rect" href="buffer__pool_8cc.html#a3a16d19dbc6aa057e14961538cd3d933" title=" " alt="" coords="201,29,404,71"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_icgraph.png" border="0" usemap="#buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_icgraph" id="buffer__pool_8cc_ae3789d75221354e09f43fe8d1520b988_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,153,56"/>
</map>
</div>

</div>
</div>
<a id="a8e0bec74072dacfc57b528846445e446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e0bec74072dacfc57b528846445e446">&#9670;&nbsp;</a></span>GetDeviceById()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Device * hermes::GetDeviceById </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DeviceID&#160;</td>
          <td class="paramname"><em>device_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a pointer to the Device with index device_id in the shared memory context.</p>
<p>This pointer should never be freed, since it lives in shared memory and is managed by the Hermes core.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context where the Devices are stored. </td></tr>
    <tr><td class="paramname">device_id</td><td>An identifier for the desired Device. This is an index into an array of Devices.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the Device with ID device_id. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a8e0bec74072dacfc57b528846445e446_cgraph.png" border="0" usemap="#buffer__pool_8cc_a8e0bec74072dacfc57b528846445e446_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a8e0bec74072dacfc57b528846445e446_cgraph" id="buffer__pool_8cc_a8e0bec74072dacfc57b528846445e446_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,181,63"/>
<area shape="rect" href="buffer__pool_8cc.html#a3a16d19dbc6aa057e14961538cd3d933" title=" " alt="" coords="229,29,432,71"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a8e0bec74072dacfc57b528846445e446_icgraph.png" border="0" usemap="#buffer__pool_8cc_a8e0bec74072dacfc57b528846445e446_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a8e0bec74072dacfc57b528846445e446_icgraph" id="buffer__pool_8cc_a8e0bec74072dacfc57b528846445e446_icgraph">
<area shape="rect" title=" " alt="" coords="263,67,439,93"/>
<area shape="rect" href="buffer__pool_8cc.html#a02a03c2aa41e4113f2ef9e0d877c15b2" title=" " alt="" coords="21,29,199,56"/>
<area shape="rect" href="buffer__pool_8cc.html#ac40167a06e73b893a492c3708bc94556" title=" " alt="" coords="5,104,215,131"/>
</map>
</div>

</div>
</div>
<a id="a42d7d04421227f822bdaa0344654409f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42d7d04421227f822bdaa0344654409f">&#9670;&nbsp;</a></span>GetHeaderByBufferId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BufferHeader * hermes::GetHeaderByBufferId </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionhermes_1_1_buffer_i_d.html">BufferID</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the BufferHeader that corresponds to BufferID <code>id</code>.</p>
<p>This pointer should never be freed. The BufferHeaders are managed by the Hermes core.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context for accessing the BufferHeaders. </td></tr>
    <tr><td class="paramname">id</td><td>The desired BufferID to retrieve.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the BufferHeader that corresponds to <code>id</code>. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a42d7d04421227f822bdaa0344654409f_cgraph.png" border="0" usemap="#buffer__pool_8cc_a42d7d04421227f822bdaa0344654409f_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a42d7d04421227f822bdaa0344654409f_cgraph" id="buffer__pool_8cc_a42d7d04421227f822bdaa0344654409f_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,223,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a42d7d04421227f822bdaa0344654409f_icgraph.png" border="0" usemap="#buffer__pool_8cc_a42d7d04421227f822bdaa0344654409f_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a42d7d04421227f822bdaa0344654409f_icgraph" id="buffer__pool_8cc_a42d7d04421227f822bdaa0344654409f_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,223,56"/>
</map>
</div>

</div>
</div>
<a id="a18efa1b5dc4adcceb04cda71e1e9294d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18efa1b5dc4adcceb04cda71e1e9294d">&#9670;&nbsp;</a></span>GetHeadersBase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BufferHeader * hermes::GetHeadersBase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a pointer to the first BufferHeader in the array of BufferHeaders constructed in the shared memory context.</p>
<p>This pointer should never be freed, as it is managed by the Hermes core. Indexing off this pointer, one can easily iterate through all BufferHeaders. When retrieving a specific header, use GetHeaderByBufferId.</p>
<p>Example: </p><div class="fragment"><div class="line">BufferHeader *headers = <a class="code" href="buffer__pool_8cc.html#a18efa1b5dc4adcceb04cda71e1e9294d">GetHeadersBase</a>(context);</div>
<div class="line"><span class="keywordflow">for</span> (u32 i = 0; i &lt; pool-&gt;num_headers[device_id]; ++i) {</div>
<div class="line">  BufferHeader *header = headers + i;</div>
<div class="line">  <span class="comment">// ...</span></div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context where the BufferHeaders live.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the first BufferHeader in the array of BufferHeaders. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a18efa1b5dc4adcceb04cda71e1e9294d_cgraph.png" border="0" usemap="#buffer__pool_8cc_a18efa1b5dc4adcceb04cda71e1e9294d_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a18efa1b5dc4adcceb04cda71e1e9294d_cgraph" id="buffer__pool_8cc_a18efa1b5dc4adcceb04cda71e1e9294d_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,193,63"/>
<area shape="rect" href="buffer__pool_8cc.html#a3a16d19dbc6aa057e14961538cd3d933" title=" " alt="" coords="241,29,444,71"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a18efa1b5dc4adcceb04cda71e1e9294d_icgraph.png" border="0" usemap="#buffer__pool_8cc_a18efa1b5dc4adcceb04cda71e1e9294d_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a18efa1b5dc4adcceb04cda71e1e9294d_icgraph" id="buffer__pool_8cc_a18efa1b5dc4adcceb04cda71e1e9294d_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,193,56"/>
</map>
</div>

</div>
</div>
<a id="a5f1ab38db8aaf13dfe38fa1e77e9a4ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f1ab38db8aaf13dfe38fa1e77e9a4ac">&#9670;&nbsp;</a></span>GetSharedMemoryContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SharedMemoryContext hermes::GetSharedMemoryContext </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>shmem_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves information required for accessing the BufferPool shared memory.</p>
<p>Maps an existing shared memory segment into the calling process's address space. Application cores will call this function, and the Hermes core initialization will have already created the shared memory segment. Application cores can then use the context to access the BufferPool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">shmem_name</td><td>The name of the shared memory segment.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The shared memory context required to access the BufferPool. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_cgraph.png" border="0" usemap="#buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_cgraph" id="buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,257,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_icgraph.png" border="0" usemap="#buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_icgraph" id="buffer__pool_8cc_a5f1ab38db8aaf13dfe38fa1e77e9a4ac_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,257,56"/>
</map>
</div>

</div>
</div>
<a id="a53535e85665e48b4cf17e78a790537da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53535e85665e48b4cf17e78a790537da">&#9670;&nbsp;</a></span>HeaderIsDormant()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hermes::HeaderIsDormant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_buffer_header.html">BufferHeader</a> *&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns whether or not <code>header</code> is currently backed by physical storage.</p>
<p>A dormant header has no storage associated with it. It exists to facilitate the splitting and merging mechanisms. Splitting buffers into smaller buffers requires more headers. When that happens, dormant headers become associated with backing storage, and become "live."</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>The header to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if <code>header</code> is not backed by physical storage, false otherwise. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a53535e85665e48b4cf17e78a790537da_cgraph.png" border="0" usemap="#buffer__pool_8cc_a53535e85665e48b4cf17e78a790537da_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a53535e85665e48b4cf17e78a790537da_cgraph" id="buffer__pool_8cc_a53535e85665e48b4cf17e78a790537da_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,200,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a53535e85665e48b4cf17e78a790537da_icgraph.png" border="0" usemap="#buffer__pool_8cc_a53535e85665e48b4cf17e78a790537da_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a53535e85665e48b4cf17e78a790537da_icgraph" id="buffer__pool_8cc_a53535e85665e48b4cf17e78a790537da_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,200,56"/>
</map>
</div>

</div>
</div>
<a id="aef32dcdc8a11c0cd0a2bed9b39e831e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef32dcdc8a11c0cd0a2bed9b39e831e0">&#9670;&nbsp;</a></span>InitBufferPool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ptrdiff_t hermes::InitBufferPool </td>
          <td>(</td>
          <td class="paramtype">u8 *&#160;</td>
          <td class="paramname"><em>hermes_memory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_arena.html">Arena</a> *&#160;</td>
          <td class="paramname"><em>buffer_pool_arena</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_arena.html">Arena</a> *&#160;</td>
          <td class="paramname"><em>scratch_arena</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i32&#160;</td>
          <td class="paramname"><em>node_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_config.html">Config</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes a BufferPool inside an existing shared memory segment.</p>
<p>Divides the shared memory segment pointed to by hermes_memory into 1) An array of RAM buffers. 2) An array of BufferHeaders. 3) An array of Devices. 4) The BufferPool struct, which contains pointers (really offsets) to the data above.</p>
<p>The sizes of each of these sections is controlled by the config parameter. Each BufferHeader is initialized to point to a specfic offset. In the case of a RAM buffer, this offset is from the beginning of the shared memory. In the case of a file buffer, the offset is from the beginning of a file. Free lists for each slab in each Device are also constructed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hermes_memory</td><td>The base pointer to a shared memory segment. </td></tr>
    <tr><td class="paramname">buffer_pool_arena</td><td>An Arena backed by the shared memory segment pointed to by hermes_shared_memory. </td></tr>
    <tr><td class="paramname">scratch_arena</td><td>An arena for temporary allocations that are destroyed when this function exits. </td></tr>
    <tr><td class="paramname">node_id</td><td>The identifier of the node this function is running on. </td></tr>
    <tr><td class="paramname">config</td><td>Configuration that specifies how the BufferPool is constructed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The offset of the beginning of the BufferPool from the beginning of shared memory. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_aef32dcdc8a11c0cd0a2bed9b39e831e0_cgraph.png" border="0" usemap="#buffer__pool_8cc_aef32dcdc8a11c0cd0a2bed9b39e831e0_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_aef32dcdc8a11c0cd0a2bed9b39e831e0_cgraph" id="buffer__pool_8cc_aef32dcdc8a11c0cd0a2bed9b39e831e0_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,172,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_aef32dcdc8a11c0cd0a2bed9b39e831e0_icgraph.png" border="0" usemap="#buffer__pool_8cc_aef32dcdc8a11c0cd0a2bed9b39e831e0_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_aef32dcdc8a11c0cd0a2bed9b39e831e0_icgraph" id="buffer__pool_8cc_aef32dcdc8a11c0cd0a2bed9b39e831e0_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,172,56"/>
</map>
</div>

</div>
</div>
<a id="ac40167a06e73b893a492c3708bc94556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac40167a06e73b893a492c3708bc94556">&#9670;&nbsp;</a></span>InitFilesForBuffering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hermes::InitFilesForBuffering </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_communication_context.html">CommunicationContext</a> &amp;&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TODO Creates and opens all files that will be used for buffering. Stores open FILE pointers in the <code>context</code>. The file buffering paradaigm uses one file per slab for each Device. If <code>posix_fallocate</code> is available, and <code>make_space</code> is <code>true</code>, each file's capacity is reserved. Otherwise, the files will be initialized with 0 size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The SharedMemoryContext in which to store the opened FILE pointers. </td></tr>
    <tr><td class="paramname">make_space</td><td>If true, attempts to reserve space on the * filesystem for each file. </td></tr>
    <tr><td class="paramname">node_id</td><td>The node id, used for shared devices. </td></tr>
    <tr><td class="paramname">first_on_node</td><td>True if this rank is sequentially the first on the node </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_cgraph.png" border="0" usemap="#buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_cgraph" id="buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,215,63"/>
<area shape="rect" href="buffer__pool_8cc.html#a3a16d19dbc6aa057e14961538cd3d933" title=" " alt="" coords="487,29,689,71"/>
<area shape="rect" href="buffer__pool_8cc.html#a8e0bec74072dacfc57b528846445e446" title=" " alt="" coords="263,74,439,101"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_icgraph.png" border="0" usemap="#buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_icgraph" id="buffer__pool_8cc_ac40167a06e73b893a492c3708bc94556_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,215,56"/>
</map>
</div>

</div>
</div>
<a id="a93572ab14ec8c48e304fbdfc25cab81d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93572ab14ec8c48e304fbdfc25cab81d">&#9670;&nbsp;</a></span>MakeFullShmemName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hermes::MakeFullShmemName </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs a unique (among users) shared memory name from a base name.</p>
<p>Copies the base name into the dest buffer and appends the value of the USER envioronment variable. The dest buffer should be large enough to hold the base name and the value of USER.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dest</td><td>A buffer for the full shared memory name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">base</td><td>The base shared memory name. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_cgraph.png" border="0" usemap="#buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_cgraph" id="buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,232,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_icgraph.png" border="0" usemap="#buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_icgraph" id="buffer__pool_8cc_a93572ab14ec8c48e304fbdfc25cab81d_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,232,56"/>
</map>
</div>

</div>
</div>
<a id="a0594eaad6f55d0838ac754ce0aa8e53c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0594eaad6f55d0838ac754ce0aa8e53c">&#9670;&nbsp;</a></span>MergeRamBufferFreeList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hermes::MergeRamBufferFreeList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>slab_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TODO(chogan):</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context for accessing the BufferPool </td></tr>
    <tr><td class="paramname">slab_index</td><td>The 0-based index of the slab to merge. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a0594eaad6f55d0838ac754ce0aa8e53c_cgraph.png" border="0" usemap="#buffer__pool_8cc_a0594eaad6f55d0838ac754ce0aa8e53c_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a0594eaad6f55d0838ac754ce0aa8e53c_cgraph" id="buffer__pool_8cc_a0594eaad6f55d0838ac754ce0aa8e53c_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,245,63"/>
<area shape="rect" href="buffer__pool_8cc.html#a3a16d19dbc6aa057e14961538cd3d933" title=" " alt="" coords="293,29,496,71"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a0594eaad6f55d0838ac754ce0aa8e53c_icgraph.png" border="0" usemap="#buffer__pool_8cc_a0594eaad6f55d0838ac754ce0aa8e53c_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a0594eaad6f55d0838ac754ce0aa8e53c_icgraph" id="buffer__pool_8cc_a0594eaad6f55d0838ac754ce0aa8e53c_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,245,56"/>
</map>
</div>

</div>
</div>
<a id="ad4f47163aad622261948bedd86b7affc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4f47163aad622261948bedd86b7affc">&#9670;&nbsp;</a></span>ReadBlobFromBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t hermes::ReadBlobFromBuffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_rpc_context.html">RpcContext</a> *&#160;</td>
          <td class="paramname"><em>rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_blob.html">Blob</a> *&#160;</td>
          <td class="paramname"><em>blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_buffer_id_array.html">BufferIdArray</a> *&#160;</td>
          <td class="paramname"><em>buffer_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32 *&#160;</td>
          <td class="paramname"><em>buffer_sizes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sketch of how an I/O client might read.</p>
<p>Reads the collection of buffer_ids into blob. The BufferIDs inform the call whether it is reading locally, remotely, from RAM (or a byte addressable Device) or to a file (block addressable Device).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context needed to access BufferPool info. </td></tr>
    <tr><td class="paramname">rpc</td><td>The RPC context needed to make a remote call if necessary. </td></tr>
    <tr><td class="paramname">blob</td><td>A place to store the read data. </td></tr>
    <tr><td class="paramname">buffer_ids</td><td>The collection of BufferIDs that hold the buffered blob. </td></tr>
    <tr><td class="paramname">buffer_sizes</td><td>A list of sizes that correspond to each buffer in <code>buffer_ids</code>. Its length is the length of <code>buffer_ids</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The total number of bytes read </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_cgraph.png" border="0" usemap="#buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_cgraph" id="buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,225,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_icgraph.png" border="0" usemap="#buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_icgraph" id="buffer__pool_8cc_ad4f47163aad622261948bedd86b7affc_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,225,56"/>
</map>
</div>

</div>
</div>
<a id="a4fdaa605948d7982a2b0e046c452f84f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fdaa605948d7982a2b0e046c452f84f">&#9670;&nbsp;</a></span>ReleaseBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hermes::ReleaseBuffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_rpc_context.html">RpcContext</a> *&#160;</td>
          <td class="paramname"><em>rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="unionhermes_1_1_buffer_i_d.html">BufferID</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>buffer_ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns buffer_ids to the BufferPool free lists so that they can be used again. Data in the buffers is considered abandonded, and can be overwritten.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context where the BufferPool lives. </td></tr>
    <tr><td class="paramname">rpc</td><td>The RPC context to enable a remote call if necessary. </td></tr>
    <tr><td class="paramname">buffer_ids</td><td>The list of buffer_ids to return to the BufferPool. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_cgraph.png" border="0" usemap="#buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_cgraph" id="buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,183,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_icgraph.png" border="0" usemap="#buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_icgraph" id="buffer__pool_8cc_a4fdaa605948d7982a2b0e046c452f84f_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,183,56"/>
</map>
</div>

</div>
</div>
<a id="a7f5a7088d0c67afec779b03060291180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f5a7088d0c67afec779b03060291180">&#9670;&nbsp;</a></span>ReleaseSharedMemoryContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hermes::ReleaseSharedMemoryContext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unmaps the shared memory represented by context and closes any open file descriptors</p>
<p>This isn't strictly necessary, since the segment will be unmapped when the process exits and the file descriptors will be closed, but is here for completeness.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory to unmap. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_cgraph.png" border="0" usemap="#buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_cgraph" id="buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,236,71"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_icgraph.png" border="0" usemap="#buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_icgraph" id="buffer__pool_8cc_a7f5a7088d0c67afec779b03060291180_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,236,71"/>
</map>
</div>

</div>
</div>
<a id="aa4aa1c5e87928e65cc3e16c8a2c1aa6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4aa1c5e87928e65cc3e16c8a2c1aa6e">&#9670;&nbsp;</a></span>SplitRamBufferFreeList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hermes::SplitRamBufferFreeList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>slab_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TODO(chogan):</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context for accessing the BufferPool. </td></tr>
    <tr><td class="paramname">slab_index</td><td>The 0-based index of the slab to split. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_aa4aa1c5e87928e65cc3e16c8a2c1aa6e_cgraph.png" border="0" usemap="#buffer__pool_8cc_aa4aa1c5e87928e65cc3e16c8a2c1aa6e_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_aa4aa1c5e87928e65cc3e16c8a2c1aa6e_cgraph" id="buffer__pool_8cc_aa4aa1c5e87928e65cc3e16c8a2c1aa6e_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,233,63"/>
<area shape="rect" href="buffer__pool_8cc.html#a3a16d19dbc6aa057e14961538cd3d933" title=" " alt="" coords="281,29,484,71"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_aa4aa1c5e87928e65cc3e16c8a2c1aa6e_icgraph.png" border="0" usemap="#buffer__pool_8cc_aa4aa1c5e87928e65cc3e16c8a2c1aa6e_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_aa4aa1c5e87928e65cc3e16c8a2c1aa6e_icgraph" id="buffer__pool_8cc_aa4aa1c5e87928e65cc3e16c8a2c1aa6e_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,233,56"/>
</map>
</div>

</div>
</div>
<a id="ad9163d10dd9f730c3bb00fb480138c6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9163d10dd9f730c3bb00fb480138c6c">&#9670;&nbsp;</a></span>WriteBlobToBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hermes::WriteBlobToBuffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_shared_memory_context.html">SharedMemoryContext</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhermes_1_1_rpc_context.html">RpcContext</a> *&#160;</td>
          <td class="paramname"><em>rpc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structhermes_1_1_blob.html">Blob</a> &amp;&#160;</td>
          <td class="paramname"><em>blob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="unionhermes_1_1_buffer_i_d.html">BufferID</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>buffer_ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sketch of how an I/O client might write.</p>
<p>Writes the blob to the collection of buffer_ids. The BufferIDs inform the call whether it is writing locally, remotely, to RAM (or a byte addressable Device) or to a file (block addressable Device).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The shared memory context needed to access BufferPool info. </td></tr>
    <tr><td class="paramname">blob</td><td>The data to write. </td></tr>
    <tr><td class="paramname">buffer_ids</td><td>The collection of BufferIDs that should buffer the blob. </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_cgraph.png" border="0" usemap="#buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_cgraph" alt=""/></div>
<map name="buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_cgraph" id="buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,208,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_icgraph.png" border="0" usemap="#buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_icgraph" alt=""/></div>
<map name="buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_icgraph" id="buffer__pool_8cc_ad9163d10dd9f730c3bb00fb480138c6c_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,208,56"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="abuffer__pool_8cc_html_a18efa1b5dc4adcceb04cda71e1e9294d"><div class="ttname"><a href="buffer__pool_8cc.html#a18efa1b5dc4adcceb04cda71e1e9294d">hermes::GetHeadersBase</a></div><div class="ttdeci">BufferHeader * GetHeadersBase(SharedMemoryContext *context)</div><div class="ttdef"><b>Definition:</b> buffer_pool.cc:189</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="buffer__pool_8cc.html">buffer_pool.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
